/*! ix3-angular 2013-10-13 */
angular.module("es.logongas.ix3",["restangular"]),angular.module("es.logongas.ix3").directive("clear",function(){return{restrict:"A",link:function(a,b,c){function d(a,b,c){for(var d=b.split("."),e=0;e<d.length-1;e++)if(a=a[d[e]],void 0===a)return;void 0!==a[d[d.length-1]]&&(a[d[d.length-1]]=c)}var e=c.clear,f=c.clearValue,g=c.ngModel;void 0===f&&(f="null"),a.$eval(e)===!0&&d(a,g,a.$eval(f)),a.$watch(e,function(b,c){b!==c&&b===!0&&d(a,g,a.$eval(f))})}}}),angular.module("es.logongas.ix3").directive("date",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e,f=c.fecha;d.$formatters.push(function(a){return a?(d.$setValidity("date",!0),moment(a).format(f)):(d.$setValidity("date",!1),a)}),d.$parsers.push(function(a){if(a){var b=moment(a,f);return b.isValid()?(d.$setValidity("date",!0),b.toDate()):(d.$setValidity("date",!1),e)}})}}}),angular.module("es.logongas.ix3").directive("visible",function(){return{restrict:"A",link:function(a,b,c){function d(a){a.css({visibility:"visible"})}function e(a){a.css({visibility:"hidden"})}var f=c.mostrar;a.$eval(f)===!0?d(b):e(b),a.$watch(f,function(a,c){a!==c&&(a===!0?d(b):e(b))})}}}),angular.module("es.logongas.ix3").provider("daoFactory",["RestangularProvider",function(a){function b(a,b,c,d){this.entityName=a,this.idName=b,this.cacheable=c,this.Restangular=d}this._baseURL,this.setBaseURL=function(b){if(!b)throw Error("El argumento baseURL no puede estar vacÃ­o");if("string"!=typeof b)throw Error("El argumento baseURL debe ser un String");this._baseURL=b,a.setBaseUrl(this._baseURL)},b.prototype.create=function(a,b){this.Restangular.one(this.entityName,"create").get().then(a,b)},b.prototype.get=function(a,b,c){this.Restangular.one(this.entityName,a).get().then(b,c)},b.prototype.insert=function(a,b,c){this.Restangular.all(this.entityName).customPOST(a).then(b,c)},b.prototype.update=function(a,b,c){this.Restangular.all(this.entityName).customPUT(a).then(b,c)},b.prototype.remove=function(a,b,c){this.Restangular.all(this.entityName).customDELETE(a).then(b,c)},b.prototype.findAll=function(a,b){this.Restangular.all(this.entityName).getList().then(a,b)},this.$get=["Restangular",function(a){return{cache:{},getDAO:function(c,d,e){var f=this.cache[c];return f||(d||(d="id"+c.charAt(0).toUpperCase()+c.slice(1)),e||(e=!1),f=new b(c,d,e,a),this.cache[c]=f),f}}}]}]);